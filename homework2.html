<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        "use strict";

        // Задание 1
        {


            let a = 1, b = 1, c, d;
            /*
            Инкремент, использующийся в качестве префикса, сначала добавляет единицу, а потом возвращает результат.
            В данном случае к переменной а, равной 1, прибавляется 1, в результате получается 2. Итог записывается в переменную с
            */
            c = ++a;
            alert(c); // 2

            /*
            Инкремент, использующийся в качестве постфикса, сначала возвращает переменную, при котором он стоит, а затем добавляет к переменной единицу.
            В данном случае переменной d присваивается значение переменной b, равной 1, после этого переменная b увеличивается на 1
            */
            d = b++;
            alert(d); // 1

            /*
            Префиксный инкремент добавляет к переменной а единицу и возвращает результат - 3. 2 складывается с 3, получается 5.
            */
            c = 2 + ++a;
            alert(c); // 5

            /*
            Постфиксный инкремент возвращает значение переменной b (2), после чего добавляет к этой переменной единицу.
            2 складывается с 2, получается 4
            */
            d = 2 + b++;
            alert(d); // 4

            /*
            К обеим переменным дважды применялся инкремент, поэтому исходные значения этих переменных в обоих случаях были увеличены на 2.
            */
            alert(a); // 3
            alert(b); // 3
        }

        // Задание 2
        {
            /*
            Выражение a *= 2 эквивалентно a = a * 2. В результате в a записывается результат умножения - 4.
            1 складывается с 4, получается 5. Результат записывается в переменную х.
            */
            let a = 2;
            let x = 1 + (a *= 2);
            alert(x);
        }

        // Задание 3
        {
            let a = 5;
            let b = 4;
            if (a >= 0 && b >= 0) {
                alert(a - b);
            } else if (a < 0 && b < 0) {
                alert(a * b);
            } else {
                alert(a + b);
            }

            /* Мне кажется, что если утверждения, что оба числа положительные и оба числа отрицательные, ложны,
            значит, числа должны быть разного знака, поэтому можно написать просто else. Но на всякий случай,
            последний вариант я расписал отдельно
            */
            if ((a >= 0 && b < 0) || (a < 0 && b >= 0)) {
                alert(a + b);
            }
        }

        // Задание 4 и 5
        {
            function add(a, b) {
                return a + b;
            }
            function substract(a, b) {
                return a - b;
            }
            function multiply(a, b) {
                return a * b;
            }
            function divide(a, b) {
                return a / b;
            }
            function mathOperation(arg1, arg2, operation) {
                switch (operation) {
                    case "add":
                        return add(arg1, arg2);
                    case "substract":
                        return substract(arg1, arg2);
                    case "multiply":
                        return multiply(arg1, arg2);
                    case "divide":
                        return divide(arg1, arg2);
                    default:
                        throw new Error("Ошибка. Неизвестная операция");
                }
            }
            alert("Результат: " + mathOperation(1, 2, "add"));
        }

        // Задание 6
        {
            // Массив с возможными окончаниями
            const ENDINGS = ["ь", "я", "ей"];

            // Функция запрашивает и проверяет пользовательский ввод
            function getUserNumber() {
                // Запросить число от пользователя
                let userInput = prompt("Введите сумму зачисления");

                // Если пользователь ввел не число или число меньше 0, запросить число снова, применив рекурсию
                if (Number.isNaN(Number(userInput)) || Number(userInput < 1)) {
                    alert("Ввод некорректный. Введите целое число больше нуля.");
                    userInput = getUserNumber();
                }

                // Если введено дробное число, отбросить дробную часть
                if (userInput.indexOf(".") != -1) {
                    alert("Введено дробное число. Дробная часть не учитывается. Будет зачислено целое число рублей");
                    userInput = userInput.slice(0, userInput.indexOf("."));
                }
                return userInput;
            }

            // Функция возвращает цифру по номеру знака в числе-строке
            function getDigit(inputString, charIndex) {
                return Number(inputString.charAt(charIndex));
            }

            // Функция выдает номер окончания на основе двух последних цифр
            function getWordEnding(numAsString) {
                // Получить последние 2 знака в числе-строке
                numAsString = numAsString.slice(-2);
                // С 10 по 19 всегда окончание - "ей"
                if (getDigit(numAsString, 0) == 1) {
                    return 2;
                }
                // Далее варианты с 10 по 19 не учитываются
                // Если последняя цифра равна 1, окончание - "ь"
                if (getDigit(numAsString, 1) == 1) {
                    return 0;
                }
                // Если последняя цифра равна от 1 до 5 невключительно, окончание - "я"
                if (getDigit(numAsString, 1) > 1 && getDigit(numAsString, 1) < 5) {
                    return 1;
                }
                // Остались только случаи с окончанием "ей"
                return 2;
            }

            // Запросить сумму ввода у пользователя
            let userNumber = getUserNumber();
            // Получить номер окончания
            let wordEnding = getWordEnding(userNumber);
            // Вывести итоговое сообщение на экран
            alert(`Ваша сумма в ${userNumber} рубл${ENDINGS[wordEnding]} успешно зачислена.`);
        }


    </script>
</body>

</html>